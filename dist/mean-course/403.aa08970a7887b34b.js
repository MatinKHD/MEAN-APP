"use strict";(self.webpackChunkmean_course=self.webpackChunkmean_course||[]).push([[403],{5403:(B,w,s)=>{s.r(w),s.d(w,{AuthModule:()=>z});var g=s(6814),_=s(4581),r=s(6223),I=s(4629),t=s(5879),h=s(2333),A=s(8180),x=s(2296),u=s(9157),C=s(2032),Z=s(5940);function N(n,i){1&n&&t._UZ(0,"mat-spinner")}function q(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," email is required"),t.qZA())}function y(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," password is required"),t.qZA())}function P(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",3,4),t.NdJ("ngSubmit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onLoginFormSubmitHandler())}),t.TgZ(2,"mat-form-field")(3,"input",5,6),t.NdJ("ngModelChange",function(a){t.CHM(e);const m=t.oxw();return t.KtG(m.email=a)}),t.qZA(),t.YNc(5,q,2,0,"mat-error",1),t.qZA(),t.TgZ(6,"mat-form-field")(7,"input",7,8),t.NdJ("ngModelChange",function(a){t.CHM(e);const m=t.oxw();return t.KtG(m.password=a)}),t.qZA(),t.YNc(9,y,2,0,"mat-error",1),t.qZA(),t.TgZ(10,"button",9),t._uU(11," Login "),t.qZA()()}if(2&n){const e=t.MAs(1),o=t.MAs(4),a=t.MAs(8),m=t.oxw();t.xp6(3),t.Q6J("ngModel",m.email),t.xp6(2),t.Q6J("ngIf",o.invalid||o.dirty),t.xp6(2),t.Q6J("ngModel",m.password),t.xp6(2),t.Q6J("ngIf",a.invalid||a.dirty),t.xp6(1),t.Q6J("disabled",e.form.invalid)}}let J=(()=>{class n{constructor(){this.authService=(0,t.f3M)(h.e),this.isLoading=!1}ngOnInit(){}onLoginFormSubmitHandler(){this.authService.login(this.email,this.password).pipe((0,A.q)(1)).subscribe({error:e=>console.log(e)})}static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],["loginForm","ngForm"],["matInput","","placeholder","Email","type","email","name","email","required","",3,"ngModel","ngModelChange"],["emailValue","ngModel"],["type","password","matInput","","placeholder","Password","required","","name","password",3,"ngModel","ngModelChange"],["passwordValue","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t.YNc(1,N,1,0,"mat-spinner",1),t.YNc(2,P,12,5,"form",2),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("ngIf",!a.isLoading))},dependencies:[g.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F,x.lW,u.KE,u.TO,C.Nt,Z.Ou],styles:[".container[_ngcontent-%COMP%]{background-color:#9e9c9c23;width:50%!important}form[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:start;align-items:center;margin:10px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:70%}"]})}return n})();const S=n=>{n.get("password"),n.get("confirmPassword")};var v=s(7398);const O=n=>i=>n.existEmail(i.value).pipe((0,v.U)(e=>e?{existEmail:!0}:null));function b(n,i){1&n&&t._UZ(0,"mat-spinner")}function L(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required"),t.qZA())}function U(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Lastname is required"),t.qZA())}function G(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Email is required"),t.qZA())}function Q(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," this email already registerd"),t.qZA())}function E(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Password is required"),t.qZA())}function F(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Confirm Password is required"),t.qZA())}function Y(n,i){1&n&&(t.TgZ(0,"div",13),t._uU(1," Passwords dose not match "),t.qZA())}function H(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("submit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSignupHandler())}),t.TgZ(1,"div",4)(2,"mat-form-field"),t._UZ(3,"input",5),t.YNc(4,L,2,0,"mat-error",1),t.qZA(),t.TgZ(5,"mat-form-field"),t._UZ(6,"input",6),t.YNc(7,U,2,0,"mat-error",1),t.qZA()(),t.TgZ(8,"mat-form-field"),t._UZ(9,"input",7),t.YNc(10,G,2,0,"mat-error",1),t.YNc(11,Q,2,0,"mat-error",1),t.qZA(),t.TgZ(12,"div",8)(13,"mat-form-field"),t._UZ(14,"input",9),t.YNc(15,E,2,0,"mat-error",1),t.qZA(),t.TgZ(16,"mat-form-field"),t._UZ(17,"input",10),t.YNc(18,F,2,0,"mat-error",1),t.qZA(),t.YNc(19,Y,2,0,"div",11),t.qZA(),t.TgZ(20,"button",12),t._uU(21," Create Account "),t.qZA()()}if(2&n){const e=t.oxw();let o,a,m,M,p,d,c,f,l;t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("ngIf",(null==(o=e.form.get("name"))?null:o.touched)&&(null==(o=e.form.get("name"))?null:o.hasError("required"))),t.xp6(3),t.Q6J("ngIf",(null==(a=e.form.get("lastname"))?null:a.touched)&&(null==(a=e.form.get("lastname"))?null:a.hasError("required"))),t.xp6(3),t.Q6J("ngIf",(null==(m=e.form.get("email"))?null:m.touched)&&(null==(m=e.form.get("email"))?null:m.hasError("required"))),t.xp6(1),t.Q6J("ngIf",null==(M=e.form.get("email"))?null:M.hasError("existEmail")),t.xp6(4),t.Q6J("ngIf",(null==(p=e.form.get("passwordGroup"))||null==(d=p.get("password"))?null:d.touched)&&(null==(p=e.form.get("passwordGroup"))||null==(d=p.get("password"))?null:d.hasError("required"))),t.xp6(3),t.Q6J("ngIf",(null==(c=e.form.get("passwordGroup"))||null==(f=c.get("confirmPassword"))?null:f.touched)&&(null==(c=e.form.get("passwordGroup"))||null==(f=c.get("confirmPassword"))?null:f.hasError("required"))),t.xp6(1),t.Q6J("ngIf",(null==(l=e.form.get("passwordGroup"))?null:l.touched)&&(null==(l=e.form.get("passwordGroup"))?null:l.dirty)&&(null==(l=e.form.get("passwordGroup"))?null:l.errors)),t.xp6(1),t.ekj("disabled",e.form.invalid),t.Q6J("disabled",e.form.invalid)}}const T=()=>{const n=(0,t.f3M)(h.e),i=(0,t.f3M)(_.F0);return n.user$.pipe((0,v.U)(({authStatus:e})=>!e||(i.navigate(["/list"]),!1)))},K=[{path:"login",component:J,canActivate:[T]},{path:"signup",component:(()=>{class n{constructor(){this.authService=(0,t.f3M)(h.e),this.fb=(0,t.f3M)(r.qu),this.router=(0,t.f3M)(_.F0),this.isLoading=!1}ngOnInit(){this.initializeForm()}onFilePickerHandler(e){}onSignupHandler(){const e={id:"",name:this.form.get("name")?.value,lastname:this.form.get("lastname")?.value,email:this.form.get("email")?.value,password:this.form.get("passwordGroup")?.get("password")?.value};this.authService.createUser(e).subscribe({error:o=>{console.log(o)},complete:()=>{this.form.reset(),this.router.navigate(["auth/login"])}})}initializeForm(){this.form=this.fb.group({name:new r.NI("",{validators:r.kI.required}),lastname:new r.NI("",{validators:r.kI.required}),email:new r.NI("",{validators:[r.kI.required],asyncValidators:[O(this.authService)],updateOn:"blur"}),passwordGroup:this.fb.group({password:new r.NI("",{validators:r.kI.required}),confirmPassword:new r.NI("",{validators:r.kI.required})},{validators:[S]})})}static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-signup"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"name-container"],["matInput","","placeholder","Name","type","text","formControlName","name"],["matInput","","placeholder","Lastname","type","text","formControlName","lastname"],["matInput","","placeholder","Email","type","email","formControlName","email"],["formGroupName","passwordGroup",1,"password-group"],["matInput","","placeholder","Password","type","password","formControlName","password"],["matInput","","placeholder","Confirm Password","type","password","formControlName","confirmPassword"],["class","password-group-error",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"password-group-error"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t.YNc(1,b,1,0,"mat-spinner",1),t.YNc(2,H,22,11,"form",2),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("ngIf",!a.isLoading))},dependencies:[g.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,r.x0,x.lW,u.KE,u.TO,C.Nt,Z.Ou],styles:[".container[_ngcontent-%COMP%]{background-color:#9e9c9c23}form[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:start;align-items:center;margin:10px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:70%}.name-container[_ngcontent-%COMP%], .password-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;width:70%;margin:20px 0}.name-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .password-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:0 0 49%}.password-group-error[_ngcontent-%COMP%]{flex:0 0 100%;text-align:center;border:solid RGB(244,67,54);border-width:1px 0 0 0;padding:5px;color:RGB(244,67,54)}"]})}return n})(),canActivate:[T]}];let z=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[g.ez,_.Bz.forChild(K),r.u5,r.UX,I.h]})}return n})()}}]);